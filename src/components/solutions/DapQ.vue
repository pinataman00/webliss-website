<template>
  <div class="solution-detail">
    <div class="solution-hero">
      <div class="solution-hero-content">
        <div class="solution-badge">AI Chat Service</div>
        <h3>Verora</h3>
        <p class="solution-tagline">ìƒì„±í˜• AI ê¸°ë°˜ ì§€ëŠ¥í˜• ì±„íŒ… ì„œë¹„ìŠ¤</p>
        <p class="solution-description">RAG(Retrieval-Augmented Generation) ê¸°ìˆ ë¡œ ê¸°ì—… ë‚´ë¶€ ë°ì´í„°ë¥¼ í•™ìŠµí•˜ì—¬ ì •í™•í•˜ê³  ë§ì¶¤í˜• ë‹µë³€ì„ ì œê³µí•˜ëŠ” 24/7 AI ê³ ê° ì§€ì› ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.</p>
      </div>
      <div class="solution-hero-visual">
        <div class="ai-diagram">
          <div class="chatbot-lineart-animation">
            <svg width="320" height="240" viewBox="0 0 320 240" class="chatbot-svg">
              <!-- Chatbot Head - Line Art Style -->
              <g class="chatbot-head">
                <!-- Main head circle -->
                <circle cx="160" cy="90" r="50" fill="rgba(255,255,255,0.1)" stroke="white" stroke-width="4" class="bot-head"/>

                <!-- Eyes (properly positioned inside head) -->
                <circle cx="145" cy="85" r="7" fill="white" stroke="white" stroke-width="2" class="eye left-eye"/>
                <circle cx="175" cy="85" r="7" fill="white" stroke="white" stroke-width="2" class="eye right-eye"/>
                <circle cx="145" cy="85" r="3.5" fill="#333" class="pupil left-pupil"/>
                <circle cx="175" cy="85" r="3.5" fill="#333" class="pupil right-pupil"/>
                <!-- Eye highlights -->
                <circle cx="147" cy="83" r="1.5" fill="white" opacity="0.8" class="eye-highlight"/>
                <circle cx="177" cy="83" r="1.5" fill="white" opacity="0.8" class="eye-highlight"/>

                <!-- Mouth (properly positioned inside head) -->
                <path d="M 148 100 Q 160 108 172 100" stroke="white" stroke-width="3" fill="none" class="mouth" stroke-linecap="round"/>

                <!-- Antenna -->
                <line x1="160" y1="40" x2="160" y2="20" stroke="white" stroke-width="4" stroke-linecap="round"/>
                <circle cx="160" cy="15" r="4" fill="white" class="antenna-tip">
                  <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                </circle>
              </g>

              <!-- Speech Bubbles -->
              <g class="speech-bubbles">
                <!-- User message bubble -->
                <g class="bubble user-bubble" opacity="0.8">
                  <ellipse cx="70" cy="60" rx="35" ry="20" fill="white" stroke="#667eea" stroke-width="2"/>
                  <path d="M 95 70 L 110 80 L 95 75 Z" fill="white" stroke="#667eea" stroke-width="2"/>
                  <text x="70" y="65" text-anchor="middle" font-size="12" fill="#667eea" font-weight="600">ì•ˆë…•í•˜ì„¸ìš”!</text>
                </g>

                <!-- Bot response bubble -->
                <g class="bubble bot-bubble" opacity="0.8">
                  <ellipse cx="250" cy="120" rx="40" ry="25" fill="white" stroke="#4CAF50" stroke-width="2"/>
                  <path d="M 225 110 L 210 100 L 225 105 Z" fill="white" stroke="#4CAF50" stroke-width="2"/>
                  <text x="250" y="118" text-anchor="middle" font-size="11" fill="#4CAF50" font-weight="600">ë„¤, ë„ì™€ë“œë¦´ê²Œìš”!</text>
                  <text x="250" y="130" text-anchor="middle" font-size="10" fill="#4CAF50">ğŸ˜Š</text>
                </g>
              </g>

              <!-- Chat Message Lines -->
              <g class="chat-lines">
                <!-- Message Line 1 -->
                <g class="message-line" :class="{ active: currentBubble === 'user' }">
                  <line x1="220" y1="60" x2="290" y2="60" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  <line x1="220" y1="68" x2="275" y2="68" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  <circle cx="210" cy="64" r="3" fill="white"/>
                </g>

                <!-- Message Line 2 -->
                <g class="message-line" :class="{ active: currentBubble === 'bot' }">
                  <line x1="30" y1="130" x2="100" y2="130" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  <line x1="30" y1="138" x2="90" y2="138" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  <line x1="30" y1="146" x2="95" y2="146" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  <circle cx="110" cy="138" r="3" fill="white"/>
                </g>

                <!-- Connecting lines -->
                <path d="M 210 90 Q 185 110 120 130" stroke="white" stroke-width="1" fill="none" stroke-dasharray="3,2" class="connection-line"/>
              </g>

              <!-- Floating indicators -->
              <g class="indicators">
                <circle cx="70" cy="180" r="2" fill="white" opacity="0.6" class="indicator">
                  <animate attributeName="cy" values="180;170;180" dur="2s" repeatCount="indefinite"/>
                  <animate attributeName="opacity" values="0.3;0.8;0.3" dur="2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="250" cy="175" r="2" fill="white" opacity="0.4" class="indicator">
                  <animate attributeName="cy" values="175;165;175" dur="2.3s" repeatCount="indefinite"/>
                  <animate attributeName="opacity" values="0.2;0.6;0.2" dur="2.3s" repeatCount="indefinite"/>
                </circle>
                <circle cx="160" cy="190" r="2" fill="white" opacity="0.5" class="indicator">
                  <animate attributeName="cy" values="190;180;190" dur="2.7s" repeatCount="indefinite"/>
                  <animate attributeName="opacity" values="0.4;0.7;0.4" dur="2.7s" repeatCount="indefinite"/>
                </circle>
              </g>
            </svg>
          </div>

          <div class="ai-flow" ref="aiFlowContainer">
            <div v-for="(step, index) in veroraSteps" :key="step.id" class="flow-item" :ref="`flowItem${index}`">
              <div class="ai-step" :class="{
                active: step.active,
                completed: step.completed,
                'step-visible': isFlowVisible
              }" @mouseenter="handleStepHover(index, true)" @mouseleave="handleStepHover(index, false)">
                {{ step.name }}
              </div>
              <div v-if="index < veroraSteps.length - 1" class="ai-arrow" :class="{
                active: step.completed,
                'arrow-visible': isFlowVisible
              }">
                <span class="arrow-horizontal">â†’</span>
                <span class="arrow-vertical">â†“</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="solution-features">
      <h4>í•µì‹¬ ê¸°ëŠ¥</h4>
      <div class="features-grid">
        <div class="feature-item" v-for="feature in features" :key="feature.id">
          <div class="feature-icon" v-html="feature.icon"></div>
          <h5>{{ feature.title }}</h5>
          <p v-for="desc in feature.descriptions" :key="desc">{{ desc }}</p>
        </div>
      </div>
    </div>

    <div class="chat-demo-section">
      <h4>ì‹¤ì‹œê°„ ì±„íŒ… ë°ëª¨</h4>
      <div class="chat-container">
        <div class="chat-header">
          <div class="chat-title">
            <span class="chat-icon"><i class="fas fa-comments"></i></span>
            Verora AI Assistant
            <span class="online-status">â— ì˜¨ë¼ì¸</span>
          </div>
        </div>
        <div class="chat-messages" ref="chatMessages">
          <div 
            v-for="(message, index) in visibleMessages" 
            :key="index"
            class="message"
            :class="{ 'user-message': message.isUser, 'ai-message': !message.isUser }"
          >
            <div class="message-content">
              <div v-if="!message.isUser" class="ai-avatar"><i class="fas fa-robot"></i></div>
              <div class="message-bubble">
                <span v-if="message.isTyping" class="typing-indicator">
                  <span></span><span></span><span></span>
                </span>
                <span v-else>{{ message.text }}</span>
              </div>
              <div v-if="message.isUser" class="user-avatar"><i class="fas fa-user"></i></div>
            </div>
          </div>
        </div>
        <div class="chat-input">
          <input type="text" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." readonly>
          <button>ì „ì†¡</button>
        </div>
      </div>
    </div>

    <div class="solution-architecture">
      <h4>ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h4>
      <div class="architecture-diagram">
        <div class="arch-layer" v-for="layer in architectureLayers" :key="layer.id">
          <h5>{{ layer.title }}</h5>
          <div class="arch-components">
            <div v-for="component in layer.components" :key="component" class="arch-component">
              {{ component }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Verora',
  data() {
    return {
      isFlowVisible: false,
      animationTimer: null,
      chatTimer: null,
      bubbleTimer: null,
      currentMessageIndex: 0,
      currentBubble: 'user',
      conversationTimer: null,
      visibleMessages: [],
      veroraSteps: [
        { id: 1, name: 'ì‚¬ìš©ì ì§ˆì˜', active: false, completed: false },
        { id: 2, name: 'RAG ê²€ìƒ‰', active: false, completed: false },
        { id: 3, name: 'AI ë‹µë³€ ìƒì„±', active: false, completed: false },
        { id: 4, name: 'ë§ì¶¤í˜• ì‘ë‹µ', active: false, completed: false }
      ],
      chatMessages: [
        { id: 1, text: "ì•ˆë…•í•˜ì„¸ìš”! íšŒì‚¬ì˜ íœ´ê°€ ì •ì±…ì— ëŒ€í•´ ì•Œê³  ì‹¶ì–´ìš”.", isUser: true },
        { id: 2, text: "ë„¤, ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! íœ´ê°€ ì •ì±… ë¬¸ì„œë¥¼ ê²€ìƒ‰ ì¤‘ì…ë‹ˆë‹¤...", isUser: false, isTyping: true },
        { id: 3, text: "íšŒì‚¬ì˜ íœ´ê°€ ì •ì±…ì— ë”°ë¥´ë©´ ì—°ì°¨ëŠ” ì…ì‚¬ 1ë…„ í›„ 15ì¼ì´ ë¶€ì—¬ë˜ë©°, ë°˜ì°¨ ì‚¬ìš©ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ­ê²½ì¼ê³¼ ëŒ€ì²´ê³µíœ´ì¼ë„ ì ìš©ë©ë‹ˆë‹¤. ë” ìì„¸í•œ ì‚¬í•­ì´ ê¶ê¸ˆí•˜ì‹œë©´ ì–¸ì œë“  ë§ì”€í•´ ì£¼ì„¸ìš”!", isUser: false },
        { id: 4, text: "ê·¸ëŸ¼ ë³‘ê°€ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?", isUser: true },
        { id: 5, text: "ë³‘ê°€ëŠ” ì—°ê°„ ìµœëŒ€ 30ì¼ê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ì˜ì‚¬ ì§„ë‹¨ì„œ ì œì¶œì´ í•„ìš”í•©ë‹ˆë‹¤. 3ì¼ ì´ìƒ ì—°ì† ë³‘ê°€ ì‹œ ë°˜ë“œì‹œ ì§„ë‹¨ì„œë¥¼ ì œì¶œí•´ì•¼ í•˜ê³ , ë³‘ê°€ ê¸°ê°„ ì¤‘ì—ëŠ” ê¸°ë³¸ê¸‰ì˜ 70%ê°€ ì§€ê¸‰ë©ë‹ˆë‹¤.", isUser: false }
      ],
      features: [
        {
          id: 1,
          icon: '<i class="fas fa-comments"></i>',
          title: 'RAG ê¸°ë°˜ ê²€ìƒ‰',
          descriptions: [
            'Retrieval-Augmented Generation ê¸°ìˆ ë¡œ',
            'ê¸°ì—… ë‚´ë¶€ ë¬¸ì„œì—ì„œ ì •í™•í•œ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì‘ë‹µí•©ë‹ˆë‹¤'
          ]
        },
        {
          id: 2,
          icon: '<i class="fas fa-book"></i>',
          title: 'ë‹¤ì–‘í•œ ë¬¸ì„œ ì§€ì›',
          descriptions: [
            'PDF, Word, Excel, PPT ë“± ë‹¤ì–‘í•œ ë¬¸ì„œ í˜•ì‹ì„',
            'ìë™ìœ¼ë¡œ í•™ìŠµí•˜ì—¬ ì§€ì‹ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤'
          ]
        },
        {
          id: 3,
          icon: '<i class="fas fa-bullseye"></i>',
          title: 'ë§ì¶¤í˜• í•™ìŠµ',
          descriptions: [
            'ê¸°ì—… ê³ ìœ ì˜ ë°ì´í„°ì™€ ìš©ì–´ë¥¼ ë°˜ì˜í•œ',
            'ë§ì¶¤í˜• AI ëª¨ë¸ë¡œ ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤'
          ]
        },
        {
          id: 4,
          icon: '<i class="fas fa-clock"></i>',
          title: '24/7 ê³ ê° ì§€ì›',
          descriptions: [
            'ì–¸ì œë“ ì§€ ì¦‰ê°ì ì´ê³  ì •í™•í•œ ì‘ë‹µìœ¼ë¡œ',
            'ê³ ê° ë§Œì¡±ë„ë¥¼ í–¥ìƒì‹œí‚¤ê³  ìš´ì˜ ë¹„ìš©ì„ ì ˆê°í•©ë‹ˆë‹¤'
          ]
        },
        {
          id: 5,
          icon: '<i class="fas fa-sync-alt"></i>',
          title: 'ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸',
          descriptions: [
            'ìƒˆë¡œìš´ ë¬¸ì„œë‚˜ ì •ë³´ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤',
            'ìë™ìœ¼ë¡œ í•™ìŠµí•˜ì—¬ ìµœì‹  ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤'
          ]
        },
        {
          id: 6,
          icon: '<i class="fas fa-shield-alt"></i>',
          title: 'ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ',
          descriptions: [
            'ê¸°ì—… ë°ì´í„°ì˜ ë³´ì•ˆì„ ë³´ì¥í•˜ë©°',
            'On-premise ë˜ëŠ” Private Cloud ë°°í¬ ì§€ì›'
          ]
        }
      ],
      architectureLayers: [
        {
          id: 1,
          title: 'Data Layer',
          components: ['ë¬¸ì„œ ì„ë² ë”©', 'Vector DB', 'ì§€ì‹ë² ì´ìŠ¤']
        },
        {
          id: 2,
          title: 'AI Engine',
          components: ['RAG ê²€ìƒ‰', 'LLM ëª¨ë¸', 'Completion']
        },
        {
          id: 3,
          title: 'Interface',
          components: ['ì±„íŒ… UI', 'API', 'Integration']
        }
      ]
    }
  },
  mounted() {
    this.showAiFlow();
    setTimeout(() => {
      this.startVeroraDemo();
      this.startConversationAnimation();
    }, 1000);
    setTimeout(() => {
      this.startChatDemo();
    }, 2000);
    setTimeout(() => {
      this.startBubbleAnimation();
    }, 500);
  },
  beforeUnmount() {
    if (this.animationTimer) {
      clearTimeout(this.animationTimer);
    }
    if (this.chatTimer) {
      clearTimeout(this.chatTimer);
    }
    if (this.bubbleTimer) {
      clearTimeout(this.bubbleTimer);
    }
  },
  methods: {
    startConversationAnimation() {
      const sequence = ['user', 'bot', 'user', 'bot'];
      let index = 0;

      const animate = () => {
        this.currentBubble = sequence[index];
        index = (index + 1) % sequence.length;

        this.conversationTimer = setTimeout(animate, 2500);
      };

      animate();
    },
    showAiFlow() {
      this.isFlowVisible = true;
    },

    handleStepHover(index, isHover) {
      if (isHover) {
        console.log(`Verora Step ${index + 1} hovered: ${this.veroraSteps[index].name}`);
      }
    },

    startVeroraDemo() {
      this.resetAiFlow();

      this.veroraSteps.forEach((step, index) => {
        this.animationTimer = setTimeout(() => {
          step.active = true;

          this.animationTimer = setTimeout(() => {
            step.active = false;
            step.completed = true;
          }, 800);
        }, index * 900);
      });

      const totalDuration = this.veroraSteps.length * 900 + 800 + 2000;
      this.animationTimer = setTimeout(() => {
        this.startVeroraDemo();
      }, totalDuration);
    },

    resetAiFlow() {
      if (this.animationTimer) {
        clearTimeout(this.animationTimer);
      }

      this.veroraSteps.forEach(step => {
        step.active = false;
        step.completed = false;
      });
    },

    startChatDemo() {
      this.currentMessageIndex = 0;
      this.visibleMessages = [];
      this.showNextMessage();
    },

    showNextMessage() {
      if (this.currentMessageIndex < this.chatMessages.length) {
        const message = { ...this.chatMessages[this.currentMessageIndex] };
        
        if (message.isTyping) {
          // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° ë¨¼ì € ë³´ì—¬ì£¼ê¸°
          this.visibleMessages.push(message);
          
          // 2ì´ˆ í›„ ì‹¤ì œ ë©”ì‹œì§€ë¡œ êµì²´
          this.chatTimer = setTimeout(() => {
            const updatedMessage = { ...message, isTyping: false };
            this.visibleMessages[this.visibleMessages.length - 1] = updatedMessage;
            
            // ë‹¤ìŒ ë©”ì‹œì§€ ìŠ¤ì¼€ì¤„
            this.chatTimer = setTimeout(() => {
              this.currentMessageIndex++;
              this.showNextMessage();
            }, 1500);
          }, 2000);
        } else {
          this.visibleMessages.push(message);
          
          // ë‹¤ìŒ ë©”ì‹œì§€ ìŠ¤ì¼€ì¤„
          this.chatTimer = setTimeout(() => {
            this.currentMessageIndex++;
            this.showNextMessage();
          }, message.isUser ? 2000 : 3000);
        }
      } else {
        // ëª¨ë“  ë©”ì‹œì§€ í‘œì‹œ ì™„ë£Œ í›„ 3ì´ˆ ëŒ€ê¸° í›„ ë‹¤ì‹œ ì‹œì‘
        this.chatTimer = setTimeout(() => {
          this.startChatDemo();
        }, 3000);
      }
    },

    startBubbleAnimation() {
      this.currentBubble = 1;

      // ê° ë§í’ì„ ì„ ìˆœì°¨ì ìœ¼ë¡œ í‘œì‹œ
      this.bubbleTimer = setTimeout(() => {
        this.currentBubble = 2;

        this.bubbleTimer = setTimeout(() => {
          this.currentBubble = 3;

          this.bubbleTimer = setTimeout(() => {
            this.currentBubble = 0;

            // 3ì´ˆ í›„ ë‹¤ì‹œ ì‹œì‘
            this.bubbleTimer = setTimeout(() => {
              this.startBubbleAnimation();
            }, 3000);
          }, 2500);
        }, 2000);
      }, 1500);
    }
  }
}
</script>

<style scoped>
.solution-detail {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  opacity: 0;
  animation: fadeInUp 0.8s ease forwards;
}

.solution-hero {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: start;
  gap: 60px;
  padding: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.solution-hero-content {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.solution-badge {
  display: inline-block;
  padding: 8px 20px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 20px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.solution-hero h3 {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 15px;
}

.solution-tagline {
  font-size: 1.4rem;
  font-weight: 600;
  margin-bottom: 20px;
  margin-top: auto;
  opacity: 0.9;
}

.solution-description {
  font-size: 1.1rem;
  line-height: 1.8;
  opacity: 0.9;
}

.solution-hero-visual {
  display: flex;
  justify-content: center;
  align-items: stretch;
  height: 100%;
}

.ai-diagram {
  text-align: center;
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* AI ì±—ë´‡ ë¼ì¸ì•„íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
.chatbot-lineart-animation {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 30px;
  width: 100%;
}

.chatbot-svg {
  filter: drop-shadow(0 4px 15px rgba(255, 255, 255, 0.1));
  animation: gentle-float 4s ease-in-out infinite;
}

@keyframes gentle-float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
}

/* ë¼ì¸ì•„íŠ¸ í—¤ë“œ ì• ë‹ˆë©”ì´ì…˜ */
.chatbot-head {
  animation: subtle-nod 5s ease-in-out infinite;
  transform-origin: center bottom;
}

@keyframes subtle-nod {
  0%, 85%, 100% { transform: rotate(0deg); }
  90%, 95% { transform: rotate(1deg); }
}

/* ë¼ì¸ì•„íŠ¸ ëˆˆ ê¹œë¹¡ì„ */
.eye {
  animation: line-blink 3s ease-in-out infinite;
}

@keyframes line-blink {
  0%, 90%, 100% { stroke-width: 1.5; }
  95% { stroke-width: 0.2; }
}

.pupil {
  animation: pupil-glow 3s ease-in-out infinite;
}

@keyframes pupil-glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* ë©”ì‹œì§€ ë¼ì¸ ì• ë‹ˆë©”ì´ì…˜ */
.message-line {
  opacity: 0.3;
  transition: all 0.4s ease;
}

.message-line.active {
  opacity: 1;
  animation: line-draw 0.8s ease;
}

@keyframes line-draw {
  0% {
    opacity: 0.3;
    stroke-dasharray: 50;
    stroke-dashoffset: 50;
  }
  100% {
    opacity: 1;
    stroke-dasharray: 0;
    stroke-dashoffset: 0;
  }
}

/* ì—°ê²°ì„  ì• ë‹ˆë©”ì´ì…˜ */
.connection-line {
  opacity: 0.6;
  animation: dash-flow 3s ease-in-out infinite;
}

@keyframes dash-flow {
  0% { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: -10; }
}

/* Particle positioning */
.particle1 { cx: 50; cy: 140; }
.particle2 { cx: 150; cy: 130; }
.particle3 { cx: 100; cy: 135; }

/* í”½ì‚¬ ìŠ¤íƒ€ì¼ ëˆˆ ê¹œë¹¡ì„ */
.eye {
  animation: pixarBlink 4s infinite;
  transform-origin: center;
}

@keyframes pixarBlink {
  0%, 90%, 100% { transform: scaleY(1); }
  92%, 94% { transform: scaleY(0.1); }
}

/* ì¹œê·¼í•œ ë™ê³µ ì›€ì§ì„ */
.pupil {
  animation: friendlyLook 5s infinite;
}

@keyframes friendlyLook {
  0%, 20% { transform: translate(0, 0); }
  25% { transform: translate(0.5px, -0.5px); }
  30%, 50% { transform: translate(-0.5px, 0); }
  55% { transform: translate(0.5px, 0.5px); }
  60%, 100% { transform: translate(0, 0); }
}

/* ëˆˆ ë°˜ì§ì„ íš¨ê³¼ */
.eye-shine {
  animation: eyeSparkle 2s ease-in-out infinite;
}

@keyframes eyeSparkle {
  0%, 70%, 100% { opacity: 1; transform: scale(1); }
  75%, 85% { opacity: 0.7; transform: scale(1.2); }
}

/* ì… ë§í•˜ê¸° ì• ë‹ˆë©”ì´ì…˜ */
.mouth {
  animation: friendlyTalk 4s ease-in-out infinite;
}

@keyframes friendlyTalk {
  0%, 40% { d: path("M 70 95 Q 80 105 90 95"); }
  20% { d: path("M 70 95 Q 80 100 90 95"); }
  60%, 100% { d: path("M 70 95 Q 80 105 90 95"); }
}

/* ë³¼ í™ì¡° ì• ë‹ˆë©”ì´ì…˜ */
.cheek {
  animation: blush 3s ease-in-out infinite;
}

.left-cheek { animation-delay: 0s; }
.right-cheek { animation-delay: 0.5s; }

@keyframes blush {
  0%, 80%, 100% { opacity: 0.6; transform: scale(1); }
  40% { opacity: 0.8; transform: scale(1.1); }
}

/* ì•ˆí…Œë‚˜ ë¶ˆë¹› */
.antenna-light {
  animation: friendlySensorPulse 2.5s ease-in-out infinite;
}

@keyframes friendlySensorPulse {
  0%, 100% { fill: #4FC3F7; opacity: 1; transform: scale(1); }
  50% { fill: #81D4FA; opacity: 0.8; transform: scale(1.15); }
}

/* ì•ˆí…Œë‚˜ ë°˜ì§ì„ */
.antenna-shine {
  animation: antennaShinePulse 2.5s ease-in-out infinite;
}

@keyframes antennaShinePulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; transform: scale(1.3); }
}

/* í•˜íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
.heart {
  animation: heartbeat 4s ease-in-out infinite;
}

@keyframes heartbeat {
  0%, 70%, 100% { opacity: 0.3; transform: scale(1); }
  10%, 30% { opacity: 0.5; transform: scale(1.05); }
}

/* ë§í’ì„  ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ */
.speech-bubbles .bubble {
  opacity: 0;
  animation: bubbleFloat 6s ease-in-out infinite;
}

.speech-bubbles .user-bubble {
  animation-delay: 0s;
}

.speech-bubbles .bot-bubble {
  animation-delay: 3s;
}

@keyframes bubbleFloat {
  0%, 20% { opacity: 0; transform: scale(0.8) translateY(10px); }
  25%, 75% { opacity: 1; transform: scale(1) translateY(0); }
  80%, 100% { opacity: 0; transform: scale(0.8) translateY(-10px); }
}

/* í•˜ì–€ìƒ‰ ë§í’ì„  ìŠ¤íƒ€ì¼ (ì±—ë´‡ ì˜†ìª½ ë°°ì¹˜) */
.speech-bubbles {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 15px;
  z-index: 1;
  min-width: 200px;
}

.bubble {
  position: relative;
  background: white;
  color: #333;
  padding: 15px 20px;
  border-radius: 25px;
  font-size: 1rem;
  font-weight: 600;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transform: translateX(20px) scale(0.8);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  white-space: nowrap;
  border: 2px solid #E3F2FD;
}

.bubble::before {
  content: '';
  position: absolute;
  left: -12px;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 12px solid transparent;
  border-right: 15px solid white;
  border-bottom: 12px solid transparent;
}

.bubble.active {
  opacity: 1;
  transform: translateX(0) scale(1);
  animation: bubbleSlideInRight 0.5s ease;
}

@keyframes bubbleSlideInRight {
  0% {
    opacity: 0;
    transform: translateX(20px) scale(0.8);
  }
  60% {
    transform: translateX(-5px) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

.ai-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
  min-height: 80px;
  flex-wrap: wrap;
}

.flow-item {
  display: flex;
  align-items: center;
  gap: 15px;
}

.ai-step {
  background: rgba(255, 255, 255, 0.2);
  padding: 12px 20px;
  border-radius: 25px;
  font-size: 0.9rem;
  font-weight: 600;
  backdrop-filter: blur(5px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  min-width: 80px;
  text-align: center;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  white-space: nowrap;
  opacity: 0.7;
  transform: translateY(0);
}

.ai-step.step-visible {
  opacity: 1;
  animation: stepSlideIn 0.6s ease forwards;
}

.ai-step:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.ai-arrow {
  font-size: 1.2rem;
  font-weight: bold;
  color: rgba(255, 255, 255, 0.6);
  transition: all 0.3s ease;
  opacity: 0.7;
  transform: scale(1);
}

.ai-arrow.arrow-visible {
  opacity: 1;
  animation: arrowSlideIn 0.4s ease forwards;
}

.arrow-horizontal { display: inline; }
.arrow-vertical { display: none; }

.ai-arrow.active {
  color: rgba(76, 175, 80, 0.9);
  transform: scale(1.2);
  text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
}

.ai-step.active {
  background: rgba(255, 255, 255, 0.4);
  border-color: rgba(255, 255, 255, 0.7);
  transform: translateY(-3px) scale(1.08);
  box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
  animation: pulse 1s ease-in-out infinite;
}

.ai-step.completed {
  background: rgba(76, 175, 80, 0.3);
  border-color: rgba(76, 175, 80, 0.7);
}

.ai-step.completed::after {
  content: 'âœ“';
  position: absolute;
  top: -8px;
  right: -8px;
  background: #4CAF50;
  color: white;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.6rem;
  font-weight: 700;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
  animation: checkmarkPop 0.3s ease;
}

@keyframes stepSlideIn {
  0% { opacity: 0.7; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes arrowSlideIn {
  0% { opacity: 0.7; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25); }
  50% { box-shadow: 0 15px 45px rgba(102, 126, 234, 0.4); }
}

@keyframes checkmarkPop {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.solution-features {
  padding: 60px;
  background: white;
}

.solution-features h4 {
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 40px;
  color: #333;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
}

.feature-item {
  padding: 30px;
  border-radius: 15px;
  border: 1px solid #f0f0f0;
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  background: white;
}

.feature-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
  border-color: #667eea;
}

.feature-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: 20px;
  color: white;
}

.feature-item h5 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: #333;
}

.feature-item p {
  color: #666;
  line-height: 1.6;
  margin-bottom: 8px;
}

.solution-architecture {
  padding: 60px;
  background: #f8f9fa;
}

.solution-architecture h4 {
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 40px;
  color: #333;
}

.architecture-diagram {
  display: flex;
  justify-content: space-between;
  gap: 30px;
}

.arch-layer {
  flex: 1;
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  text-align: center;
}

.arch-layer h5 {
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #667eea;
}

.arch-components {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.arch-component {
  background: #f8f9fa;
  padding: 10px 15px;
  border-radius: 8px;
  font-size: 0.9rem;
  color: #555;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Chat Demo Styles */
.chat-demo-section {
  padding: 60px;
  background: #f8f9fa;
}

.chat-demo-section h4 {
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 40px;
  color: #333;
}

.chat-container {
  max-width: 600px;
  margin: 0 auto;
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.chat-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
}

.chat-title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  font-size: 1.1rem;
}

.chat-icon {
  font-size: 1.2rem;
}

.online-status {
  margin-left: auto;
  font-size: 0.9rem;
  color: #4CAF50;
}

.chat-messages {
  padding: 20px;
  min-height: 400px;
  max-height: 400px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.message {
  animation: messageSlideIn 0.5s ease-out;
}

.message-content {
  display: flex;
  align-items: flex-end;
  gap: 10px;
}

.user-message .message-content {
  justify-content: flex-end;
}

.ai-message .message-content {
  justify-content: flex-start;
}

.ai-avatar, .user-avatar {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.ai-avatar {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.user-avatar {
  background: #f0f0f0;
}

.message-bubble {
  max-width: 70%;
  padding: 12px 16px;
  border-radius: 18px;
  line-height: 1.5;
  font-size: 0.95rem;
}

.user-message .message-bubble {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-bottom-right-radius: 6px;
}

.ai-message .message-bubble {
  background: #f8f9fa;
  color: #333;
  border-bottom-left-radius: 6px;
}

.typing-indicator {
  display: inline-block;
}

.typing-indicator span {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #bbb;
  margin: 0 2px;
  animation: typingDots 1.4s infinite ease-in-out both;
}

.typing-indicator span:nth-child(1) {
  animation-delay: -0.32s;
}

.typing-indicator span:nth-child(2) {
  animation-delay: -0.16s;
}

.chat-input {
  padding: 20px;
  background: #f8f9fa;
  display: flex;
  gap: 10px;
  border-top: 1px solid #e9ecef;
}

.chat-input input {
  flex: 1;
  padding: 12px 16px;
  border: 1px solid #ddd;
  border-radius: 25px;
  outline: none;
  font-size: 0.95rem;
  background: white;
}

.chat-input button {
  padding: 12px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 25px;
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.3s ease;
}

.chat-input button:hover {
  opacity: 0.9;
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes typingDots {
  0%, 80%, 100% {
    transform: scale(0.8);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@media (max-width: 968px) {
  .solution-hero {
    grid-template-columns: 1fr;
    text-align: center;
    padding: 40px 30px;
    gap: 40px;
  }

  .solution-hero h3 { font-size: 2.2rem; }
  .solution-tagline { font-size: 1.2rem; }
  
  .solution-features { padding: 40px 30px; }
  .features-grid { grid-template-columns: repeat(2, 1fr); gap: 25px; }

  .ai-flow { flex-direction: column; gap: 15px; }
  .flow-item { flex-direction: column; gap: 15px; }
  .ai-step { min-width: 100px; padding: 12px 20px; }
  
  .arrow-horizontal { display: none; }
  .arrow-vertical { display: inline; }
  
  .architecture-diagram { flex-direction: column; }
  
  .chat-demo-section { padding: 40px 20px; }
  .chat-container { margin: 0 10px; }
  .chat-messages { min-height: 300px; max-height: 300px; padding: 15px; }
  .message-bubble { max-width: 85%; font-size: 0.9rem; }
}

@media (max-width: 576px) {
  .solution-hero {
    padding: 50px 20px;
    gap: 45px;
  }

  .solution-hero h3 {
    font-size: 1.8rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    margin-bottom: 0px;
  }

  .solution-name {
    text-align: center;
  }

  .solution-pronunciation {
    font-size: 1rem;
    text-align: center;
    margin-top: -10px;
    margin-bottom: -5px;
  }

  .solution-header {
    flex-direction: column;
    margin-bottom: 40px;
    align-items: center;
    gap: 5px;
  }

  .solution-header-logo {
    height: 3.6rem;
  }

  .features-grid { grid-template-columns: 1fr; }
  .chat-messages { min-height: 250px; max-height: 250px; }
}
</style>